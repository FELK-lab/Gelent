@if (telegram.user) {
    <div class="profile-container">
        <!-- –í–µ—Ä—Ö–Ω–∏–π –±–∞—Ä —Å –≤–∞–ª—é—Ç–æ–π –∏ –∫–Ω–æ–ø–∫–∞–º–∏ -->
        <div class="top-bar">
            <div class="currency-box-top-left">
                <div class="currency-item">ü™ô {{ playerState.formattedGold }}</div>
                <div class="currency-item">üíé 150</div>
            </div>
            <div class="actions-box-top-right">
                <a href="#" class="action-button">‚ùì –ü–æ–¥–¥–µ—Ä–∂–∫–∞</a>
                <button (click)="toggleSettings()" class="action-button">‚öôÔ∏è –ü—Ä–æ—Ñ–∏–ª—å</button>
            </div>
        </div>

        <!-- –ü–æ–ø–∞–ø –Ω–∞—Å—Ç—Ä–æ–µ–∫ (–ø–æ—è–≤–ª—è–µ—Ç—Å—è –ø–æ –∫–ª–∏–∫—É) -->
        @if (showSettings) {
            <div class="settings-popup">
                <div class="settings-item">–°–º–µ–Ω–∞ –∞–≤–∞—Ç–∞—Ä–∫–∏</div>
                <div class="settings-item">–°–º–µ–Ω–∞ —Ä–∞–º–∫–∏ –∞–≤–∞—Ç–∞—Ä–∫–∏</div>
                <div class="settings-item">–°–º–µ–Ω–∞ —Ñ–æ–Ω–∞ –ø—Ä–æ—Ñ–∏–ª—è</div>
            </div>
        }

        <!-- –ë–ª–æ–∫ —Å –∞–≤–∞—Ç–∞—Ä–æ–º –ø–æ —Ü–µ–Ω—Ç—Ä—É -->
        <div class="header-section">
            <div class="avatar-container">
                @if(telegram.user.photo_url) {
                    <img [src]="telegram.user.photo_url" alt="User Avatar" class="avatar">
                }
            </div>
        </div>

        <!-- –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è -->
        <div class="identity-section">
            <h1 class="username">{{ telegram.user.first_name }} {{ telegram.user.last_name }}</h1>
            <p class="user-handle">{{ telegram.user.username ? '@' + telegram.user.username : 'ID: ' + telegram.user.id }}</p>
        </div>

        <!-- –†–µ–π—Ç–∏–Ω–≥–∏ –≤ —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫–∞—Ö -->
        <div class="ratings-section">
            <a routerLink="/rating" class="rating-triangle">
                <div class="triangle-shape"><span class="rank-placeholder">X</span></div>
                <span class="triangle-label">–¢–æ–ø –ø–æ —Ñ–∞—Ä–º—É</span>
            </a>
            <a routerLink="/rating" class="rating-triangle">
                <div class="triangle-shape"><span class="rank-placeholder">X</span></div>
                <span class="triangle-label">–¢–æ–ø –¥–æ–Ω–∞—Ç–µ—Ä</span>
            </a>
            <a routerLink="/rating" class="rating-triangle">
                <div class="triangle-shape"><span class="rank-placeholder">X</span></div>
                <span class="triangle-label">–¢–æ–ø –∫–æ–ª–ª–µ–∫—Ü–∏—è</span>
            </a>
        </div>

        <!-- –ú–æ—è –∫–æ–ª–ª–µ–∫—Ü–∏—è -->
        <div class="collection-section">
            <h2>–ú–æ—è –∫–æ–ª–ª–µ–∫—Ü–∏—è</h2>
            <div class="items-grid">
                <div class="grid-item locked"></div>
                <div class="grid-item locked"></div>
                <div class="grid-item locked"></div>
                <div class="grid-item locked"></div>
            </div>
        </div>

        <!-- –ú–æ–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è -->
        <div class="achievements-section">
            <h2>–ú–æ–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è</h2>
            <div class="items-grid">
                <div class="grid-item locked">?</div>
                <div class="grid-item locked">?</div>
                <div class="grid-item locked">?</div>
                <div class="grid-item locked">?</div>
            </div>
        </div>
    </div>
} @else {
    <div class="profile-container">
        <h1>–ü—Ä–æ—Ñ–∏–ª—å</h1>
        <p>–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.</p>
    </div>
}
